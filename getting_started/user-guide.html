<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Guide &mdash; CiteLang Python 0.0.33 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-argparse.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Settings" href="settings.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> CiteLang Python
          </a>
              <div class="version">
                0.0.33
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#credentials">Credentials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#commands">Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#package-managers">Package Managers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package">Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#config">Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="#disable-cache">disable_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="#disable-memory-cache">disable_memory_cache</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cache">Cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="#credit">Credit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graph">Graph</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dot">Dot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cypher">Cypher</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gexf-networkx">Gexf (NetworkX)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#badge">Badge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#static">Static</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interactive">Interactive</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#render">Render</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gen-generate">Gen (generate)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contrib">Contrib</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#github-action">GitHub Action</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#generate-github-action">Generate GitHub Action</a></li>
<li class="toctree-l3"><a class="reference internal" href="#badge-github-action">Badge GitHub Action</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contribute-github-action">Contribute GitHub Action</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#python">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#frequently-asked-questions">Frequently Asked Questions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#why-don-t-the-trees-print-versions">Why don‚Äôt the trees print versions?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#why-don-t-the-trees-show-package-managers">Why don‚Äôt the trees show package managers?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/citelang.html">CiteLang Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/internal/modules.html">Internal API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CiteLang Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Getting Started</a> &raquo;</li>
      <li>User Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/getting_started/user-guide.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="user-guide">
<span id="getting-started-user-guide"></span><h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>Welcome to CiteLang! This is the first markdown syntax for citing software. Importantly,
when you use CiteLang to reference software.</p>
<ol class="arabic simple">
<li><p>Generate basic software credit trees</p></li>
<li><p>Give credit accounting for dependencies!</p></li>
</ol>
<p>No - we aren‚Äôt using DOIs! A manually crafted identifier that a human has to remember to generate,
in addition to a publication or release, is too much work for people to reasonably do. As research
software engineers we also want to move away from the traditional ‚Äúbe valued like an academic‚Äù model.
We are getting software metadata and a reference to an identifier via a package manager. This means
that when you publish your software, you should publish it to an appropriate package manager.
Please <a class="reference external" href="https://github.com/vsoch/citelang/issues">let us know</a> if you have a questions,
find a bug, or want to request a feature! This is an open source project and we are
eager for your contribution. üéâÔ∏è</p>
<section id="usage">
<span id="getting-started-user-guide-usage"></span><h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Once you have <code class="docutils literal notranslate"><span class="pre">citelang</span></code> installed (<a class="reference internal" href="installation.html#getting-started-installation"><span class="std std-ref">Installation</span></a>) you
can use citelang either from the command line, or from within Python.</p>
<section id="credentials">
<span id="getting-started-user-guide-usage-client"></span><h3>Credentials<a class="headerlink" href="#credentials" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>CiteLang will require a libraries.io token, so you should <a class="reference external" href="https://libraries.io/">login</a> (it works with
GitHub and other easy OAuth2 that don‚Äôt require permissions beyond your email) and then
go to the top right -&gt; Settings -&gt; API Key.</p>
<p>You‚Äôll want to export this in the environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">export CITELANG_LIBRARIES_KEY=xxxxxxxxxxxxxxxxxxxxxxxxx</span>
</pre></div>
</div>
<p>If you use the GitHub package type, it‚Äôs recommended to export a GitHub token too.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">export GITHUB_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxx</span>
</pre></div>
</div>
</section>
</section>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>The following commands are available.</p>
<section id="package-managers">
<h3>Package Managers<a class="headerlink" href="#package-managers" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Let‚Äôs find package managers supported.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang list
</pre></div>
</div>
<p>This gives us the listing of package managers that we can interact with. Since by default
we create a cache of results (to not use our token ratelimit whenever possible) after calling
this endpoint you‚Äôll find packages cached in your citelang home!</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tree ~/.citelang/
<span class="go">/home/vanessa/.citelang/</span>
<span class="go">‚îú‚îÄ‚îÄ cache</span>
<span class="go">‚îÇ¬†¬† ‚îî‚îÄ‚îÄ package_managers.json</span>
<span class="go">‚îî‚îÄ‚îÄ settings.yml</span>
</pre></div>
</div>
<p>This means if you make the call again, it will load data from here instead of making an API call.
Note that there are actually two caches - the filesystem and memory cache. These are discussed in the
config section. You can disable using or setting the cache for any command as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citeling list --no-cache
</pre></div>
</div>
</section>
<section id="package">
<h3>Package<a class="headerlink" href="#package" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>To get metadata for a package, or from the command line, to list versions available:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang package pypi requests
</pre></div>
</div>
<p>image:: <a class="reference external" href="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/package-requests.png">https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/package-requests.png</a></p>
</section>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>You can ask to see package dependencies:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang deps pypi requests
</pre></div>
</div>
<p>If you don‚Äôt provide a version, the latest will be used (retrieved from the package).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang deps pypi requests@2.27.1
</pre></div>
</div>
<p>image:: <a class="reference external" href="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/requests-deps.png">https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/requests-deps.png</a></p>
<section id="config">
<h4>Config<a class="headerlink" href="#config" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>You don‚Äôt technically need to do any custom configuration. However, if you want to make
your own user-specific settings file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang config inituser
</pre></div>
</div>
<p>You can also edit the default config in <code class="docutils literal notranslate"><span class="pre">citelang/settings.yml</span></code>
if you control the install. We will be adding a table of settings when we add official
documentation. For now, let‚Äôs talk about specific variables.</p>
</section>
<section id="disable-cache">
<h4>disable_cache<a class="headerlink" href="#disable-cache" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>This defaults to false, meaning we aren‚Äôt disabling the cache. Not disabling the cache
means we can cache different results in your citelang home. We do this to minimize API calls.
The exception is for when you ask for a package without a version. Since we cannot
be sure what the latest version is, we need to check again.</p>
</section>
<section id="disable-memory-cache">
<h4>disable_memory_cache<a class="headerlink" href="#disable-memory-cache" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>Akin to the filesystem, given that you are using a client in a session (whether directly
in Python or via a command provided by citelang) we will cache results in memory. E.g.,
if you are asking for multiple packages, we check first that you are asking for a valid
manager. When we cache the list of managers available, this is possible without an extra
API call.</p>
</section>
</section>
<section id="cache">
<h3>Cache<a class="headerlink" href="#cache" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Citelng includes a cache command group for viewing or clearing your filesystem cache.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang cache
<span class="go">/home/vanessa/.citelang/cache</span>
</pre></div>
</div>
<p>Or list what‚Äôs in it!</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tree <span class="k">$(</span>citelang cache<span class="k">)</span>
</pre></div>
</div>
<p>And finally, clear it. You‚Äôll get a confirmation prompt first.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang cache --clear
<span class="go">Are you sure you want to clear the cache? yes</span>
</pre></div>
</div>
</section>
<section id="credit">
<h3>Credit<a class="headerlink" href="#credit" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>To create a simple citation credit calculation, you can do:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang credit pypi requests
</pre></div>
</div>
<p>By default, we will split the credit graph until:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>if set, we reach a threshold N of packages added (<cite>‚Äìmax-depth</cite>)</p></li>
<li><p>if set, we reach a total number of unique dependencies added (<cite>‚Äìmax-deps</cite>)</p></li>
<li><p>we reach a threshold that is smaller than our minimum credit (<cite>‚Äìmin-credit</cite>)</p></li>
</ol>
</div></blockquote>
<p>It‚Äôs up to you to set the first two cases (they default to None, meaning unset) and
we always only go up to a minimum threshold (or when there are no more dependencies to allocate).
Note that first time you do it, you‚Äôll see the endpoints being hit (they aren‚Äôt cached yet):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang credit pypi requests
<span class="go">GET https://libraries.io/api/platforms</span>
<span class="go">GET https://libraries.io/api/pypi/requests</span>
<span class="go">GET https://libraries.io/api/pypi/requests/2.27.1/dependencies</span>
<span class="go">GET https://libraries.io/api/pypi/win-inet-pton</span>
<span class="go">GET https://libraries.io/api/pypi/win-inet-pton/1.1.0/dependencies</span>
<span class="go">GET https://libraries.io/api/pypi/PySocks</span>
<span class="go">GET https://libraries.io/api/pypi/PySocks/1.7.1/dependencies</span>
<span class="go">GET https://libraries.io/api/pypi/charset-normalizer</span>
<span class="go">GET https://libraries.io/api/pypi/charset-normalizer/2.0.12/dependencies</span>
<span class="go">GET https://libraries.io/api/pypi/idna</span>
<span class="go">GET https://libraries.io/api/pypi/idna/0.1/dependencies</span>
<span class="go">GET https://libraries.io/api/pypi/chardet</span>
<span class="go">GET https://libraries.io/api/pypi/chardet/4.0.0/dependencies</span>
<span class="go">GET https://libraries.io/api/pypi/certifi</span>
<span class="go">GET https://libraries.io/api/pypi/certifi/2015.4.28/dependencies</span>
<span class="go">GET https://libraries.io/api/pypi/urllib3</span>
<span class="go">GET https://libraries.io/api/pypi/urllib3/1.26.8/dependencies</span>
</pre></div>
</div>
<p>And then you‚Äôll get the credit score:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang credit pypi requests
<span class="go">              requests: 0.5</span>
<span class="go">           win-inet-pton: 0.071</span>
<span class="go">                 PySocks: 0.071</span>
<span class="go">      charset-normalizer: 0.036</span>
<span class="go">                unicodedata2: 0.036</span>
<span class="go">                    idna: 0.071</span>
<span class="go">                 chardet: 0.071</span>
<span class="go">                 certifi: 0.071</span>
<span class="go">                 urllib3: 0.071</span>
<span class="go">total: 1.0</span>
</pre></div>
</div>
<p>The default ‚Äúminimum credit‚Äù (to determine when we stop parsing) is 0.01.
You can also try changing this value!</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang credit pypi requests --min-credit <span class="m">0</span>.005
<span class="go">              requests: 0.5</span>
<span class="go">           win-inet-pton: 0.071</span>
<span class="go">                 PySocks: 0.071</span>
<span class="go">      charset-normalizer: 0.036</span>
<span class="go">                unicodedata2: 0.036</span>
<span class="go">                    idna: 0.071</span>
<span class="go">                 chardet: 0.071</span>
<span class="go">                 certifi: 0.071</span>
<span class="go">                 urllib3: 0.036</span>
<span class="go">                     PySocks: 0.005</span>
<span class="go">                   ipaddress: 0.005</span>
<span class="go">                     certifi: 0.005</span>
<span class="go">                        idna: 0.005</span>
<span class="go">                cryptography: 0.005</span>
<span class="go">                   pyOpenSSL: 0.005</span>
<span class="go">                    brotlipy: 0.005</span>
<span class="go">total: 1.0</span>
</pre></div>
</div>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">--max-depth</span></code> and <code class="docutils literal notranslate"><span class="pre">--map-deps</span></code> are unset so we don‚Äôt stop parsing based on some
maximum depth or number of dependencies. You can try setting these values as well.</p>
</section>
<section id="graph">
<h3>Graph<a class="headerlink" href="#graph" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>To create a simple citation graph, you can do:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang graph pypi requests
</pre></div>
</div>
<p>This will print a (much prettier) rendering of the graph to the console! Here is for pypi:</p>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/examples/console/citelang-console-pypi.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/examples/console/citelang-console-pypi.png" />
<p>And citelang has custom package parsers, meaning we can add package managers that aren‚Äôt in libraries.io!
Here is spack:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang graph spack caliper
</pre></div>
</div>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/examples/console/citelang-console-spack.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/examples/console/citelang-console-spack.png" />
<p>And GitHub.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang graph github singularityhub/singularity-hpc
</pre></div>
</div>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/examples/console/citelang-console-github.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/examples/console/citelang-console-github.png" />
<p>GitHub is a bit of a deviant parser because we use the dendency graph that GitHub has found in your repository.
If you have a non-traditional way of defining deps (e.g., singularity-cli above writes them into a version.py that gets piped into setup.py) they won‚Äôt show up. Also note that when you cite GitHub, we are giving credit to ALL the software you use for your setup, including documentation and CI. Here is a more traditional GitHub repository
that has a detectable file.</p>
<section id="dot">
<h4>Dot<a class="headerlink" href="#dot" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>To generate (and then render a dot graph):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang graph pypi requests --fmt dot &gt; examples/dot/graph.dot
<span class="gp">$ </span>dot -Tpng &lt; examples/dot/graph.dot &gt; examples/dot/graph.png
<span class="gp">$ </span>dot -Tsvg &lt; examples/dot/graph.dot &gt; examples/dot/graph.svg
</pre></div>
</div>
</section>
<section id="cypher">
<h4>Cypher<a class="headerlink" href="#cypher" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>Cypher is the query format for Neo4j, the graph database.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang graph pypi requests --fmt cypher

<span class="go">CREATE (tlolycos:PACKAGE {name: &#39;requests (0.5)&#39;, label: &#39;tlolycos&#39;}),</span>
<span class="gp gp-VirtualEnv">(jgaoitav:PACKAGE {name: &#39;win-inet-pton (0.071)</span><span class="go">&#39;, label: &#39;jgaoitav&#39;}),</span>
<span class="gp gp-VirtualEnv">(jijibmow:PACKAGE {name: &#39;PySocks (0.071)</span><span class="go">&#39;, label: &#39;jijibmow&#39;}),</span>
<span class="gp gp-VirtualEnv">(gotbtadg:PACKAGE {name: &#39;charset-normalizer (0.036)</span><span class="go">&#39;, label: &#39;gotbtadg&#39;}),</span>
<span class="gp gp-VirtualEnv">(lflybqsc:PACKAGE {name: &#39;idna (0.071)</span><span class="go">&#39;, label: &#39;lflybqsc&#39;}),</span>
<span class="gp gp-VirtualEnv">(kitlrsbz:PACKAGE {name: &#39;chardet (0.071)</span><span class="go">&#39;, label: &#39;kitlrsbz&#39;}),</span>
<span class="gp gp-VirtualEnv">(gnveurko:PACKAGE {name: &#39;certifi (0.071)</span><span class="go">&#39;, label: &#39;gnveurko&#39;}),</span>
<span class="gp gp-VirtualEnv">(eoikqvix:PACKAGE {name: &#39;urllib3 (0.071)</span><span class="go">&#39;, label: &#39;eoikqvix&#39;}),</span>
<span class="gp gp-VirtualEnv">(kvccvkva:PACKAGE {name: &#39;unicodedata2 (0.036)</span><span class="go">&#39;, label: &#39;kvccvkva&#39;}),</span>
<span class="gp gp-VirtualEnv">(tlolycos)</span><span class="go">-[:DEPENDSON]-&gt;(jgaoitav),</span>
<span class="gp gp-VirtualEnv">(tlolycos)</span><span class="go">-[:DEPENDSON]-&gt;(jijibmow),</span>
<span class="gp gp-VirtualEnv">(tlolycos)</span><span class="go">-[:DEPENDSON]-&gt;(gotbtadg),</span>
<span class="gp gp-VirtualEnv">(tlolycos)</span><span class="go">-[:DEPENDSON]-&gt;(lflybqsc),</span>
<span class="gp gp-VirtualEnv">(tlolycos)</span><span class="go">-[:DEPENDSON]-&gt;(kitlrsbz),</span>
<span class="gp gp-VirtualEnv">(tlolycos)</span><span class="go">-[:DEPENDSON]-&gt;(gnveurko),</span>
<span class="gp gp-VirtualEnv">(tlolycos)</span><span class="go">-[:DEPENDSON]-&gt;(eoikqvix),</span>
<span class="gp gp-VirtualEnv">(gotbtadg)</span><span class="go">-[:DEPENDSON]-&gt;(kvccvkva);</span>
</pre></div>
</div>
<p>What you are seeing above is a definition of node and relationships. You can pipe to file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang graph pypi requests --fmt cypher &gt; examples/cypher/graph.cypher
</pre></div>
</div>
<p>If you test the output in the [Neo4J sandbox](<a class="reference external" href="https://sandbox.neo4j.com/">https://sandbox.neo4j.com/</a>) by first running the code to generate nodes and then doing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">MATCH (n) RETURN (n)</span>
</pre></div>
</div>
<p>You should see:</p>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/examples/cypher/graph.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/examples/cypher/graph.png" />
<p>From within Python you can do:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">from citelang.main import Client</span>
<span class="go">client = Client()</span>
<span class="go">client.graph(manager=&quot;pypi&quot;, name=&quot;requests&quot;, fmt=&quot;cypher&quot;)</span>
</pre></div>
</div>
</section>
<section id="gexf-networkx">
<h4>Gexf (NetworkX)<a class="headerlink" href="#gexf-networkx" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>If you want to use networkX or Gephi or a <a class="reference external" href="https://github.com/raphv/gexf-js">viewer</a> you can generate output as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang graph pypi requests --fmt gexf
<span class="gp">$ </span>citelang graph pypi requests --fmt gexf &gt; examples/gexf/graph.xml
</pre></div>
</div>
<p>To use the viewer, you‚Äôll first need to import into Gephi so the nodes have added spatial information. Without this information, you won‚Äôt see them in the UI. You can then do the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nv">here</span><span class="o">=</span><span class="nv">$PWD</span>
<span class="gp">$ </span><span class="nb">cd</span> /tmp
<span class="gp">$ </span>git clone https://github.com/raphv/gexf-js
<span class="gp">$ </span><span class="nb">cd</span> gexf-js
</pre></div>
</div>
<p>The file we generated above, we copy over the example so we don‚Äôt have to edit config.js</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cp <span class="nv">$here</span>/examples/gexf/graph.xml miserables.gexf
</pre></div>
</div>
<p>And then run the server!</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python -m http.server 9999</span>
</pre></div>
</div>
<p>As an alternative, networkx can also read in the gexf file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_gexf</span><span class="p">(</span><span class="s1">&#39;examples/gexf/graph.xml&#39;</span><span class="p">)</span>

<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>That should generate <a class="reference external" href="https://raw.githubusercontent.com/vsoch/citelang/main/examples/gexf/graph.xml">examples/gexf/graph.xml</a>.</p>
</section>
</section>
<section id="badge">
<h3>Badge<a class="headerlink" href="#badge" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>There are two kinds of badges:</p>
<blockquote>
<div><ul class="simple">
<li><p>static png for GitHub README.md or similar</p></li>
<li><p>interactive SVG for a web interface</p></li>
</ul>
</div></blockquote>
<section id="static">
<h4>Static<a class="headerlink" href="#static" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>The static badge requires a few extra dependencies, namely plotly and supporting libraries.
Either of these install methods will provide that:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip install citelang<span class="o">[</span>all<span class="o">]</span>
<span class="gp">$ </span>pip install citelang<span class="o">[</span>badge<span class="o">]</span>
</pre></div>
</div>
<section id="static-sunburst">
<h5>Static Sunburst<a class="headerlink" href="#static-sunburst" title="Permalink to this heading">ÔÉÅ</a></h5>
<p>The default badge is a static sunburst, and it will generate a png file named by the package and manager.
Both of these are the same:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang badge --template static pypi requests
<span class="gp">$ </span>citelang badge pypi requests
</pre></div>
</div>
<p>Here is an example of a shallow graph:</p>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge-pypi-requests.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge-pypi-requests.png" />
<p>And a deeper one (setting <code class="docutils literal notranslate"><span class="pre">--min-credit</span></code> to 0.001.</p>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge-pypi-requests-deeper.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge-pypi-requests-deeper.png" />
<p>Note that (as of version 0.0.2) you can also generate badges from requirements file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang badge usrse.github.io Gemfile --outfile usrse-gem-deps.png
</pre></div>
</div>
<p>The above would generate a badge from the local Gemfile in the usrse.github.io repository, which
is an arbitrary name we are assigning for the badge.</p>
</section>
</section>
<section id="interactive">
<h4>Interactive<a class="headerlink" href="#interactive" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>An interactive badge is typically an svg in a webpage (meaning citelang will typically output an index.html file for you to include
somewhere) for a user to interactively explore your dependency tree. We have a few different versions
of badges that you can generate for your software!</p>
<section id="sunburst">
<h5>Sunburst<a class="headerlink" href="#sunburst" title="Permalink to this heading">ÔÉÅ</a></h5>
<p>To generate a sunburst interactive (html) badge:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang badge --template sunburst pypi requests
</pre></div>
</div>
<p>And this command will generate:</p>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge-sunburst.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge-sunburst.png" />
<p>of course you can lower the credit threshold to see an expanded plot:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang badge pypi requests --min-credit <span class="m">0</span>.001
</pre></div>
</div>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge-sunburst-larger.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge-sunburst-larger.png" />
<p>Or see an  <a class="reference external" href="../_static/example/badge/index.html">interactive version here</a>.</p>
</section>
<section id="treemap">
<h5>Treemap<a class="headerlink" href="#treemap" title="Permalink to this heading">ÔÉÅ</a></h5>
<p>For the treemap we took inspiration from the periodic table of elements, meaning that the top layer looks like a single element, and clicking
allows you to explore the nested inner tables, and each table is composed of squares.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang badge --template treemap pypi requests
</pre></div>
</div>
<p>or for more depth in your badge (and to save to a custom output file):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang badge pypi requests --min-credit <span class="m">0</span>.001 --outfile index.html
<span class="go">Saving to index.html...</span>
<span class="go">Result saved to index.html</span>
</pre></div>
</div>
<p>Here is the current example badge - you can click around to explore it!</p>
<img alt="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge.png" src="https://raw.githubusercontent.com/vsoch/citelang/main/docs/getting_started/img/badge.png" />
<p>Or see the <a class="reference external" href="../_static/example/badge/treemap/index.html">interactive version here</a>.</p>
<p>The badge design is still being developed - for example it would be good to have
a smaller version, or a static one. If you have ideas or inspiration please
open an issue!</p>
</section>
</section>
</section>
<section id="render">
<h3>Render<a class="headerlink" href="#render" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>This command will support rendering an entire markdown file with software references,
and create a citation summary table that can represent shared credit across your dependencies, weighted equally (by default)
per package. As an example, let‚Äôs say we start with <a class="reference external" href="https://github.com/vsoch/citelang/blob/main/examples/pre-paper.md">this markdown file</a> .
You‚Äôll notice there are software references formatted as follows:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="ni">@apt</span>{name=singularity-container, version=3.8.2}
<span class="ni">@pypi</span>{name=singularity-hpc}
<span class="ni">@github</span>{name=autamus/registry}
<span class="ni">@github</span>{name=spack/spack, release=0.17}.
</pre></div>
</div>
<p>And it ends in a References section, under which we‚Äôve defined a start and ending tag (in html) for citelang.</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>&lt;!--citelang start--&gt;
&lt;!--citelang end--&gt;
</pre></div>
</div>
<p>Then to render the citation table into the file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang render examples/pre-render.md
</pre></div>
</div>
<p>This will print the result to the screen! To save to output file (overwrite the same file or write to a different file):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang render examples/pre-render.md --outfile examples/post-render.md
</pre></div>
</div>
<p>You can see an <a class="reference external" href="https://github.com/vsoch/citelang/blob/main/examples/post-render.md">example rendering here</a>.</p>
</section>
<section id="gen-generate">
<h3>Gen (generate)<a class="headerlink" href="#gen-generate" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>If you just want to generate a markdown file for a piece of software, you can do:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen pypi requests
</pre></div>
</div>
<p>And of course save to an output file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen pypi requests --outfile examples/citelang.md
</pre></div>
</div>
<p>And akin to credit or graph, you can change the credit threshold to introduce more dependencies.
You can see an <a class="reference external" href="https://github.com/vsoch/citelang/blob/main/examples/citelang.md">example rendering here</a>.</p>
<p>If you instead provide a name and filename to render, you can generate the same
kind of rendering for a custom package (possibly not on pypi or other package managers):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen python-lib requirements.txt --outfile mylib.md
</pre></div>
</div>
<p>Here is a setup.py, harder to parse but we try!</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen python-lib setup.py --outfile mylib.md
</pre></div>
</div>
<p>For each of the python file types, by default we use pip to parse (and get a more accurate result than static). However if there is some issue, it will fall back to the static parser. You can also disable using pipe entirely by doing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">export CITELANG_USE_PIP=false</span>
</pre></div>
</div>
<p>As we move on to other languages, here is an example of parsing a Gemfile:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen ruby-lib Gemfile --outfile mylib.md
</pre></div>
</div>
<p>And a go.mod:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen go-lib go.mod --outfile mylib.md
</pre></div>
</div>
<p>or npm package.json:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen npm-lib package.json --outfile mylib.md
</pre></div>
</div>
<p>Cpp doesn‚Äôt have a great package manager, but we can still derive the direct
dependencies from a CMakeLists.txt.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen cpp-lib CMakeLists.txt
</pre></div>
</div>
<p>Since a lot of C++ dependencies are in spack, we use that as the underlying manager!
And here is an example with a DESCRIPTION file, which goes alongside an R package and includes
dependencies.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang gen mylib DESCRIPTION --outfile mylib.md
</pre></div>
</div>
<p>Note that when using a custom generation for a requirements file, we cache dependencies but not
the custom package, as that doesn‚Äôt easily fit in the cache namespace and can change.
This function is also useful to use programatically from within Python, e.g., to parse
a root and look for requirements files associated with it. Here is an example of parsing
two requirements.txt files in a repository, and combining the results:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">citelang.utils</span> <span class="k">as</span> <span class="nn">utils</span>
<span class="kn">import</span> <span class="nn">citelang.main.parser</span> <span class="k">as</span> <span class="nn">parser</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># This is an example of using citelang to parse two repos,</span>
<span class="c1"># and to generate a software citation tree that combines BOTH</span>
<span class="c1"># Here we choose two projects with overlapping dependencies</span>
<span class="n">repos</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;vsoch/django-river-ml&quot;</span><span class="p">,</span> <span class="s2">&quot;vsoch/django-oci&quot;</span><span class="p">]:</span>
    <span class="n">repos</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># You can use a find here, but here I know there are requirements.txt!</span>
<span class="n">cli</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">RequirementsParser</span><span class="p">()</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">repo_dir</span> <span class="ow">in</span> <span class="n">repos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">require_text</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">repo_dir</span><span class="p">,</span> <span class="s2">&quot;requirements.txt&quot;</span><span class="p">)</span>
    <span class="n">cli</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="n">require_text</span><span class="p">)</span>

<span class="c1"># Summarize across packages!</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">prepare_table</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
<p>If you save your client data to file (e.g., to data.json for some repository)
you can later load it into a parser to combine results.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s say we have a list of data.json files, each with a repository and dependencies</span>
<span class="n">roots</span> <span class="o">=</span> <span class="n">global_cli</span><span class="o">.</span><span class="n">load_datafiles</span><span class="p">(</span><span class="n">data_files</span><span class="p">)</span>

<span class="c1"># Let&#39;s tweak the round by value to our liking...</span>
<span class="n">global_cli</span><span class="o">.</span><span class="n">round_by</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># And render providing the custom data!</span>
<span class="n">global_cli</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">roots</span><span class="p">)</span>

<span class="c1"># You can also do the same, but scope to a type of requirement file</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">global_cli</span><span class="o">.</span><span class="n">load_datafiles</span><span class="p">(</span><span class="n">data_files</span><span class="p">,</span> <span class="n">includes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;setup.py&quot;</span><span class="p">,</span> <span class="s2">&quot;requirements.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;pypi&quot;</span><span class="p">])</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">global_cli</span><span class="o">.</span><span class="n">load_datafiles</span><span class="p">(</span><span class="n">data_files</span><span class="p">,</span> <span class="n">includes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cran&quot;</span><span class="p">,</span> <span class="s2">&quot;DESCRIPTION&quot;</span><span class="p">])</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">global_cli</span><span class="o">.</span><span class="n">load_datafiles</span><span class="p">(</span><span class="n">data_files</span><span class="p">,</span> <span class="n">includes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;package.json&quot;</span><span class="p">,</span> <span class="s2">&quot;npm&quot;</span><span class="p">])</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">global_cli</span><span class="o">.</span><span class="n">load_datafiles</span><span class="p">(</span><span class="n">data_files</span><span class="p">,</span> <span class="n">includes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;go.mod&quot;</span><span class="p">,</span> <span class="s2">&quot;go&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>And then you could run a custom render for each to generate the requirements table, but scoped
to a language.</p>
</section>
<section id="contrib">
<h3>Contrib<a class="headerlink" href="#contrib" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Contrib will allow you to look at a different kind of credit - git commits!</p>
<p>It‚Äôs recommended to look for data between two git tags or commits:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang contrib --start <span class="m">0</span>.0.17 --end <span class="m">0</span>.0.19
</pre></div>
</div>
<p>The above assumes a .git repository in the present working directory. You can
change that path:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang contrib --start <span class="m">0</span>.0.17 --end <span class="m">0</span>.0.19 --root /path/to/repo
</pre></div>
</div>
<p>By default, the results are printed to a table, and by author, and without detail.
To add detail (e.g., specific files to authors, and authors to paths):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang contrib --start <span class="m">0</span>.0.17 --end <span class="m">0</span>.0.19 --detail
</pre></div>
</div>
<p>To change the ‚Äúby‚Äù field:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang contrib --start <span class="m">0</span>.0.17 --end <span class="m">0</span>.0.19 --by author
<span class="gp">$ </span>citelang contrib --start <span class="m">0</span>.0.17 --end <span class="m">0</span>.0.19 --by path
</pre></div>
</div>
<p>or to instead save to an output file (complete json)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang contrib --start <span class="m">0</span>.0.17 --end <span class="m">0</span>.0.19 --outfile author-lines.json
</pre></div>
</div>
<p>Note that by default, we do a deep search, meaning that we do not include <code class="docutils literal notranslate"><span class="pre">--first-parent</span></code>
when we derive a list of commits (adds more commits) and we do not add <code class="docutils literal notranslate"><span class="pre">-C</span></code> or <code class="docutils literal notranslate"><span class="pre">-M</span></code> to
the blame command to try and squash copies and movements. However, if you want a more
shallow result that does this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang contrib --start v3.9.1 --end v3.9.2 --filters filters.yaml --detail --shallow
</pre></div>
</div>
<p>All of these examples currently print a table and save data. We have plans to provide an associated
action that can use this data and generate a contributors panel for each release (or some other
range based on commits or tags).</p>
<p>It may be that you want to disambiguate different aliases, or ignore contributions by
bots or just particular files or authors (e.g., there was a single commit from ‚Äúroot‚Äù in a repository
I was parsing, and I can‚Äôt do much with that). To support this, we allow an optional filters file,
which might look like the following:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authors</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">Vanessa Sochat</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vsoch</span><span class="w"></span>
<span class="w">  </span><span class="nt">Cedric Clerget</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">C√©dric Clerget</span><span class="w"></span>
<span class="w">  </span><span class="nt">cclerget</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">C√©dric Clerget</span><span class="w"></span>
<span class="w">  </span><span class="nt">ArangoGutierrez</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Eduardo Arango</span><span class="w"></span>
<span class="w">  </span><span class="nt">Marcelo E. Magallon</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Marcelo Magallon</span><span class="w"></span>
<span class="w">  </span><span class="nt">Ian</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ian Kaneshiro</span><span class="w"></span>
<span class="w">  </span><span class="nt">sashayakovtseva</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Sasha Yakovtseva</span><span class="w"></span>
<span class="w">  </span><span class="nt">jscook2345</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Justin Cook</span><span class="w"></span>
<span class="w">  </span><span class="nt">GodloveD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">David Godlove</span><span class="w"></span>
<span class="w">  </span><span class="nt">Dave Trudgian</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">David Trudgian</span><span class="w"></span>
<span class="w">  </span><span class="nt">Gregory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Gregory M. Kurtzer</span><span class="w"></span>
<span class="nt">ignore_bots</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="c1"># Ignore these files across the repository</span><span class="w"></span>
<span class="nt">ignore_basename</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">go.mod</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">go.sum</span><span class="w"></span>

<span class="c1"># Ignore these specific files</span><span class="w"></span>
<span class="nt">ignore_files</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">full/path/to/README.md</span><span class="w"></span>

<span class="c1"># Ignore these specific users</span><span class="w"></span>
<span class="nt">ignore_users</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">root</span><span class="w"></span>
</pre></div>
</div>
<p>The above first has a list of authors that we want to match to a particular alias. For example,
any mention of my full name should be associated to ‚Äúvsoch.‚Äù The <code class="docutils literal notranslate"><span class="pre">ignore_bots</span></code> is a boolean
flag that will skip over a username with <code class="docutils literal notranslate"><span class="pre">[bot]</span></code>, and finally, the list of <code class="docutils literal notranslate"><span class="pre">ignore</span></code> should
be used sparingly. You generally don‚Äôt want to ignore anyone unless it‚Äôs obviously a weird mistake
(e.g., someone commit as root, and I could never figure out who that was if I tried. But I could
probably guess :O) Then we can run the command with this file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>citelang contrib --start v3.9.7 --end v3.9.8 --all-time --filters singularity-filters.yaml
</pre></div>
</div>
<p>And then we get a much cleaner and organized table because authors are not represented twice.
You could also get creative here and provide groups that are named based on an organization or group. For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authors</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">vsoch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dinosaur</span><span class="w"></span>
<span class="w">  </span><span class="nt">Vanessa Sochat</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dinosaur</span><span class="w"></span>
<span class="w">  </span><span class="nt">C√©dric Clerget</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Superhero</span><span class="w"></span>
<span class="w">  </span><span class="nt">Cedric Clerget</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Superhero</span><span class="w"></span>
<span class="w">  </span><span class="nt">cclerget</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Superhero</span><span class="w"></span>
<span class="w">  </span><span class="nt">ArangoGutierrez</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avocado</span><span class="w"></span>
<span class="nt">ignore_bots</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="nt">ignore</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">root</span><span class="w"></span>
</pre></div>
</div>
<p>It‚Äôs up to you how you want to use that functionality! If you need further filter functionality,
please let us know.</p>
<p>Since we want find-grained contributions, we count lines with git blame,
so this method will be a little bit slower than other means to assess credit, because
when we run git blame on a file we get the last commit and timestamp that every line
was modified. This gives us the ability to have two modes - being able to see contributions
for all time, or limiting to a specific range. The way contrib works is to:</p>
<ol class="arabic simple">
<li><p>Take a start and end tag or commit to parse</p></li>
<li><p>Find the range of commits relevant to that range</p></li>
<li><p>For each commit, find all relevant changed files</p></li>
<li><p>Run git blame for the commit and file, and save a cached result</p></li>
<li><p>The result includes authors, paths, commits, timestamps, and counts (lines) per timestamp</p></li>
<li><p>Each multiprocessing worker returns the complete blame result</p></li>
<li><p>We combine results across workers</p></li>
<li><p>Unless the <code class="docutils literal notranslate"><span class="pre">--all-time</span></code> flag is provided, we then filter down to timestamps within the range</p></li>
<li><p>We organized based on author or path, and with or without detail</p></li>
<li><p>The result is printed or saved to the filesystem as json</p></li>
</ol>
<p>For the fourth step, we run jobs with multiprocessing, and we store the result in the <code class="docutils literal notranslate"><span class="pre">.contrib</span></code>
cache, which is organized equivalently to the repository. For example, here is Singularity after a run, and we can
see there are files from both the golang history and the previous bash/C++ and python
history:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls .contrib/cache/
<span class="go">alpinelinux  bin                 configure.ac     debian  examples  INSTALL.md  ...</span>
<span class="go">AUTHORS      CHANGELOG.md        CONTRIBUTING.md  docs    go.mod    internal    ...</span>
<span class="go">AUTHORS.md   cmd                 COPYING          e2e     go.sum    libexec     ...</span>
<span class="go">autogen.sh   CODE_OF_CONDUCT.md  COPYRIGHT.md     etc     INSTALL   LICENSE     ...</span>
</pre></div>
</div>
<p>This happened because I ran contrib for an older version range and a newer version range.
If we look in any particular file ‚Äúdirectory‚Äù we find json files named by commit that had blame run.
We can look in each json file and see the blame:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;Vanessa Sochat&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;libexec/cli/inspect.exec&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;be6c7a85391e79e1273acc659410fbd17ced6d5f&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;1495390269&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;cf8bbc36e1a97be04e779c5d0ab2f9a4a407cfdb&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;1495597759&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;Gregory M. Kurtzer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;libexec/cli/inspect.exec&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;3a9f9cf1e6369080c4676a8919e2cb09d8116e6e&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;1496258562&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;2ad9d5862b7d1cea937044a23997bf66cd06695c&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;1483468664&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
</pre></div>
</div>
<p>What we see above are authors, file paths, and commits, timestamps, and then
changed lines for each timestamp. The reason we have different commits for one
blame (run for a commit) is because this represents the git blame for every line
of the file at that timepoint. This is also why we keep the timestamps, because we can
then filter this set down to include only commits that were within a desired range.
But it also gives us the ability to see ‚Äúall time credit‚Äù at any particular timestamp,
which is pretty cool!</p>
<p>Once you parse a blame for a specific commit and file, you won‚Äôt need to parse
it again as it will be cached in (default) <code class="docutils literal notranslate"><span class="pre">.contrib</span></code> in the present working
directory. We can load that file and filter it for different contexts.</p>
</section>
</section>
<section id="github-action">
<h2>GitHub Action<a class="headerlink" href="#github-action" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>CiteLang has several GitHub actions to make it easy to automate using some of
these tools, and proudly show your software credit trees.</p>
<section id="generate-github-action">
<h3>Generate GitHub Action<a class="headerlink" href="#generate-github-action" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>If you want to generate a software credit markdown for your software (perhaps after a release)
you can do the following. Here is an example of releasing a Python package.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Release Python Package</span><span class="w"></span>

<span class="nt">on</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">release</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">types</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">created</span><span class="p p-Indicator">]</span><span class="w"></span>

<span class="nt">jobs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">deploy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-20.04</span><span class="w"></span>

<span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span><span class="w"></span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install</span><span class="w"></span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda create --quiet --name release-env twine</span><span class="w"></span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span><span class="w"></span>
<span class="w">      </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">TWINE_USERNAME</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.PYPI_USER }}</span><span class="w"></span>
<span class="w">        </span><span class="nt">TWINE_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.PYPI_PASS }}</span><span class="w"></span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">export PATH=&quot;/usr/share/miniconda/bin:$PATH&quot;</span><span class="w"></span>
<span class="w">        </span><span class="no">source activate release-env</span><span class="w"></span>
<span class="w">        </span><span class="no">pip install -e .</span><span class="w"></span>
<span class="w">        </span><span class="no">pip install setuptools wheel twine</span><span class="w"></span>
<span class="w">        </span><span class="no">python setup.py sdist bdist_wheel</span><span class="w"></span>
<span class="w">        </span><span class="no">twine upload dist/*</span><span class="w"></span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate CiteLang</span><span class="w"></span>
<span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vsoch/citelang/action/gen@main</span><span class="w"></span>
<span class="w">      </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">CITELANG_LIBRARIES_KEY</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.CITELANG_LIBRARIES_KEY }}</span><span class="w"></span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">citelang</span><span class="w"></span>
<span class="w">        </span><span class="nt">manager</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pypi</span><span class="w"></span>
<span class="w">        </span><span class="nt">outfile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">software-credit.md</span><span class="w"></span>
</pre></div>
</div>
<p>Notice that we have generated a libraries.io key to make the process faster.
and customized the file to be named software-credit.md.</p>
</section>
<section id="badge-github-action">
<h3>Badge GitHub Action<a class="headerlink" href="#badge-github-action" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Here is how you would generate a png badge for your repository, named custom or by the <code class="docutils literal notranslate"><span class="pre">&lt;manager&gt;-&lt;package&gt;.png</span></code> (default).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate CiteLang Badge</span><span class="w"></span>
<span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vsoch/citelang/action/badge@main</span><span class="w"></span>
<span class="w">  </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">CITELANG_LIBRARIES_KEY</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.CITELANG_LIBRARIES_KEY }}</span><span class="w"></span>
<span class="w">  </span><span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">citelang</span><span class="w"></span>
<span class="w">    </span><span class="nt">manager</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pypi</span><span class="w"></span>
<span class="w">    </span><span class="nt">outfile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pypi-citelang.png</span><span class="w"></span>
</pre></div>
</div>
<p>Adding an additional step to commit a file and push to main might look like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">View generated file</span><span class="w"></span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cat software-credit.md</span><span class="w"></span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Push Software Credit</span><span class="w"></span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">    </span><span class="no">git config --global user.name &quot;github-actions&quot;</span><span class="w"></span>
<span class="w">    </span><span class="no">git config --global user.email &quot;github-actions@users.noreply.github.com&quot;</span><span class="w"></span>
<span class="w">    </span><span class="no">git add software-credit.md</span><span class="w"></span>
<span class="w">    </span><span class="no">git commit -m &quot;Automated push with new software-credit $(date &#39;+%Y-%m-%d&#39;)&quot; || exit 0</span><span class="w"></span>
<span class="w">    </span><span class="no">git push origin main || exit 0</span><span class="w"></span>
</pre></div>
</div>
<p>You could also open a pull request if you want to review first!</p>
</section>
<section id="contribute-github-action">
<h3>Contribute GitHub Action<a class="headerlink" href="#contribute-github-action" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>This is to generate contribution data, and you can decide what to do with it.
It could be for provenance or analysis.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate CiteLang Contrib Data</span><span class="w"></span>
<span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vsoch/citelang/action/contrib@main</span><span class="w"></span>
<span class="w">  </span><span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">root</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/cloned-repo</span><span class="w"></span>
<span class="w">    </span><span class="nt">outdir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/cloned-repo/.contrib</span><span class="w"></span>
<span class="w">    </span><span class="nt">start</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.52</span><span class="w"></span>
<span class="w">    </span><span class="nt">end</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.53</span><span class="w"></span>
<span class="w">    </span><span class="nt">detail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
<p>If you would like another tool developed, or to discuss an idea for software credit,
please don‚Äôt hesitate to reach out to &#64;vsoch.</p>
</section>
</section>
<section id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>You can do all of the same interactions from within Python! And indeed if you want
to do some kind of analysis or custom parsing this is the recommended approach.
For all cases from within Python, after exporing the token, we need to create a client.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">citelang.main</span> <span class="kn">import</span> <span class="n">Client</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
<p>You can optionally provide a custom settings file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CITELANG_SETTINGS_FILE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;settings.yml&quot;</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
<p>Now let‚Äôs get our list of package managers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">package_managers</span><span class="p">()</span>
</pre></div>
</div>
<p>The raw data will be here on the results object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<p>And this is how we print to the terminal</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="o">.</span><span class="n">table</span><span class="p">()</span>
</pre></div>
</div>
<p>Let‚Äôs say you ran this, and you wanted to retrieve it again! Given that <code class="docutils literal notranslate"><span class="pre">disable_cache</span></code> in your settings
is not set to True, you can call the function again and the data returned will be from the cache.
You can also ask for it verbatim:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">package_managers</span><span class="p">()</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">get_cache</span><span class="p">(</span><span class="s1">&#39;package_managers&#39;</span><span class="p">)</span>

<span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Inqlude&#39;</span><span class="p">,</span>
 <span class="s1">&#39;project_count&#39;</span><span class="p">:</span> <span class="mi">228</span><span class="p">,</span>
 <span class="s1">&#39;homepage&#39;</span><span class="p">:</span> <span class="s1">&#39;https://inqlude.org/&#39;</span><span class="p">,</span>
 <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#f34b7d&#39;</span><span class="p">,</span>
 <span class="s1">&#39;default_language&#39;</span><span class="p">:</span> <span class="s1">&#39;C++&#39;</span><span class="p">}]</span>
</pre></div>
</div>
<p>To get metadata for a package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">package</span><span class="p">(</span><span class="n">manager</span><span class="o">=</span><span class="s2">&quot;pypi&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or to ask for dependencies:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">dependencies</span><span class="p">(</span><span class="n">manager</span><span class="o">=</span><span class="s2">&quot;pypi&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Without a version, we will grab the latest. Otherwise we use the version provided.</p>
</section>
<section id="frequently-asked-questions">
<h2>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this heading">ÔÉÅ</a></h2>
<section id="why-don-t-the-trees-print-versions">
<h3>Why don‚Äôt the trees print versions?<a class="headerlink" href="#why-don-t-the-trees-print-versions" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>The current thinking is that when I give credit to software, I‚Äôm not caring so much about the version.
The goal of this isn‚Äôt reproducibility, but rather to say ‚Äúfor this software package, here are the dependencies and credits to give for each.‚Äù Given a version (which will default to latest) this will mean a particular
set of dependencies, but it‚Äôs not something we require reproducing, especially because we choose a threshold (number of dependencies, a credit minimum threshold, or depth) to cut our search. The only data we care about is preserving a representation of how to give credit after we do a search.</p>
</section>
<section id="why-don-t-the-trees-show-package-managers">
<h3>Why don‚Äôt the trees show package managers?<a class="headerlink" href="#why-don-t-the-trees-show-package-managers" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>In truth we probably should, because looking at a credit graph later you need to know the manager
used to derive the graph (e.g., some packages can be present in multiple package managers!)
I haven‚Äôt added this yet.</p>
<p>This library is under development and we will have more documentation coming soon!</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="settings.html" class="btn btn-neutral float-right" title="Settings" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Vanessa Sochat.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>